@prefix sh: <http://www.w3.org/ns/shacl#> .
#@prefix shr: <http://www.w3.org/ns/shacl/repairs#> .
@prefix : <http://org.shacl.repairs.tests/> .
@prefix fibo-fnd-agr-ctr: <https://spec.edmcouncil.org/fibo/ontology/FND/Agreements/Contracts/> .

:FunctionalContractStatusStrategy
    a sh:RepairStrategy;
    sh:repair [
        sh:path :hasContractStatus;
        sh:action sh:delete;
        sh:preferenceOrder (
            :statusCreated :statusPending :statusFulfilled :statusViolated
        )
    ];
    sh:repair [
        sh:path :hasContractStatus;
        sh:action sh:add;
        sh:value :statusPending
    ] .

:FunctionalStateStrategy
    a sh:RepairStrategy;
    sh:repair [
        sh:path :hasState;
        sh:action sh:delete;
        sh:preferenceOrder (
            :CreatedState :PendingState :FulfilledState :ViolatedState
        )
    ];
    sh:repair [
        sh:path :hasState;
        sh:action sh:add;
        sh:value :PendingState
    ] .

:ViolatedContractStrategy
    a sh:RepairStrategy;
    sh:repair [
        sh:path :hasObligations;
        sh:action sh:delete;
        sh:not [
        # sh:value is a concrete value to (not) delete; or a value generated by a strategy, like min or max
            sh:value [
                a sh:anyValue;
            ];
        ];
    ];
    sh:repair [
        sh:path :hasState;
        sh:action sh:delete;
        sh:not [
        # sh:value is a concrete value to (not) delete; or a value generated by a strategy, like min or max
            sh:value :ViolatedState;
        ];
    ] .

:FunctionalEndDateStrategy
    a sh:RepairStrategy;
    sh:repair [
        sh:path :hasEndDate;
        sh:action sh:delete;
        sh:preferenceOrder sh:minValue
    ] .